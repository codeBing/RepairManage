@model RepairManage.Models.RepairDetail
@{
    ViewBag.Title = "编辑维修单";
}
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/addCss.js")" type="text/javascript"></script>
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">
                编辑维修单</h1>
        </div>
        <!-- /.col-lg-12 -->
        @using (Html.BeginForm())
        {
            @Html.ValidationSummary(true)
            <div class="col-lg-6">
                <fieldset>
                    @Html.HiddenFor(model => model.repairId)
                    <div class="form-group">
                        @Html.LabelFor(model => model.computerId)
                        @Html.EditorFor(model => model.computerId)
                        @Html.ValidationMessageFor(model => model.computerId)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.faultMsg)
                        @Html.EditorFor(model => model.faultMsg)
                        @Html.ValidationMessageFor(model => model.faultMsg)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.repairMethod)
                        @Html.EditorFor(model => model.repairMethod)
                        @Html.ValidationMessageFor(model => model.repairMethod)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.repairCost)
                        @Html.EditorFor(model => model.repairCost)
                        @Html.ValidationMessageFor(model => model.repairCost)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.repairTime)
                        <input class="text-box single-line" data-val="true" data-val-required="请输入维修日期" id="repairTime" name="repairTime" type="text" value="@ViewBag.strDate" />
                        @Html.ValidationMessageFor(model => model.repairTime)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.customerName)
                        @Html.EditorFor(model => model.customerName)
                        @Html.ValidationMessageFor(model => model.customerName)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.phoneNumber)
                        @Html.EditorFor(model => model.phoneNumber)
                        @Html.ValidationMessageFor(model => model.phoneNumber)
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.email)
                        @Html.EditorFor(model => model.email)
                        @Html.ValidationMessageFor(model => model.email)
                    </div>
                    <p>
                        <input type="submit"  value="保存" />
                    </p>
                </fieldset>
            </div>
            <div class="col-lg-3">
                <div class="form-group">
                    @Html.LabelFor(model => model.isFixed)
                    <select class="form-control" name="isFixed" id="isFixed">
                        <option value="false">维修中</option>
                        <option value="true">已完成</option>
                    </select>
                    <p class="help-block">注意：如果维修状态被设置为已完成，系统将自动发送邮件通知用户并把维修单设置为不可编辑状态。</p>
                </div>
            </div>
        }
    </div>
</div>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">提示</h4>
      </div>
      <div class="modal-body">
                <p>请注意，如果维修状态被设置为已完成，系统将自动发送邮件通知用户并把维修单设置为不可编辑状态。</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $("select").change(function () {
            if ($("select").val() == "true")
                $('#myModal').modal('show');
        })
    });
    function checkinput() {
        
if (confirm("确认提交？")) 
return ture; 
else 
return false;
} 
</script>